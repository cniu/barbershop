{"version":3,"sources":["webpack:///src/components/setting/user-access/sell-item.vue","webpack:///./src/components/setting/user-access/sell-item.vue?a901","webpack:///src/components/setting/user-access/users.vue","webpack:///./src/components/setting/user-access/sell-item.vue","webpack:///./src/components/setting/user-access/users.vue?7708","webpack:///./src/components/setting/user-access/users.vue","webpack:///./src/components/setting/user-access/index.js"],"names":["sell_item","name","props","modal_type","singleItem","username","password","page_level","comment","item_number","data","ruleValidate","required","message","type","trigger","max","methods","handleSubmit","_this","this","$refs","validate","valid","$props","post_URL","baseAPIUrl","$http","put","then","response","res","$Message","error","success","$emit","status","$router","push","post","handleReset","resetFields","user_access_sell_item","render","_vm","_h","$createElement","_c","_self","ref","attrs","model","rules","label-width","staticStyle","display","label","prop","disabled","value","callback","$$v","$set","expression","_v","placeholder","min","autosize","minRows","maxRows","on","click","$event","margin-left","staticRenderFns","users","components","User","__webpack_require__","normalizeComponent","modal_title","singleModal","search","page","page_size","total_count","order","order_key","users_data","columns","title","key","width","sortable","ellipsis","align","h","params","size","style","marginRight","modifyItem","index","removeItem","computed","watch","created","getUsers","_this2","users_baseAPIUrl","handleSearch","assign_default","changePage","changePageSize","sortChange","visibleChange","closeModal","text","_this3","$Modal","confirm","content","onOk","delete","onCancel","addItem","user_access_users","staticClass","padding","justify","span","shape","offset","float","enter-button","on-search","border","on-sort-change","total","show-total","show-sizer","current","page-size","page-size-opts","on-change","on-page-size-change","footer-hide","on-visible-change","setting_user_access_users","users_normalizeComponent","UserManage"],"mappings":"8HA2BAA,GACAC,KAAA,WACAC,OACAC,WAAA,GACAC,YACAC,SAAA,GACAC,SAAA,GACAC,WAAA,GACAC,QAAA,GACAC,YAAA,KAGAC,KAZA,WAaA,OACAC,cACAN,WACAO,UAAA,EAAAC,QAAA,UAEAP,WACAM,UAAA,EAAAC,QAAA,UAEAN,aACAK,UAAA,EAAAC,QAAA,UACAC,KAAA,SAAAD,QAAA,SAEAL,UACAI,UAAA,EAAAC,QAAA,QAAAE,QAAA,SACAD,KAAA,SAAAE,IAAA,IAAAH,QAAA,QAAAE,QAAA,YAKAE,SACAC,aADA,SACAjB,GAAA,IAAAkB,EAAAC,KACAA,KAAAC,MAAApB,GAAAqB,SAAA,SAAAC,GACA,GAAAA,GACA,aAAAJ,EAAAK,OAAArB,WAAA,CAEA,IAAAsB,EAAAC,iBAAAP,EAAAf,WAAAK,YAEAU,EAAAQ,MAAAC,IAAAH,EAAAN,EAAAf,YAAAyB,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAApB,KACA,WAAAqB,EAAA,QACAZ,EAAAa,SAAAC,MAAAF,EAAA,SAEAZ,EAAAa,SAAAE,QAAA,SACAf,EAAAgB,MAAA,wBACA,SAAAL,GACA,KAAAA,EAAAM,QAEAjB,EAAAkB,QAAAC,MACArC,KAAA,iBAKA,UAAAkB,EAAAK,OAAArB,WAAA,CACAsB,EAAAC,kBACAP,EAAAQ,MAAAY,KAAAd,EAAAN,EAAAf,YAAAyB,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAApB,KACA,WAAAqB,EAAA,QACAZ,EAAAa,SAAAC,MAAAF,EAAA,SAEAZ,EAAAa,SAAAE,QAAA,SACAf,EAAAgB,MAAA,wBACA,SAAAL,GACA,KAAAA,EAAAM,QAEAjB,EAAAkB,QAAAC,MACArC,KAAA,kBAMAkB,EAAAa,SAAAC,MAAA,sBAIAO,YA/CA,SA+CAvC,GACAmB,KAAAC,MAAApB,GAAAwC,iBCxGeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAxB,KAAayB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,QAA4BE,IAAA,aAAAC,OAAwBC,MAAAP,EAAAxC,WAAAgD,MAAAR,EAAAjC,aAAA0C,cAAA,MAAkEN,EAAA,YAAiBO,aAAaC,QAAA,QAAiBL,OAAQM,MAAA,KAAAC,KAAA,UAA4BV,EAAA,SAAcG,OAAOQ,SAAA,IAAcP,OAAQQ,MAAAf,EAAAxC,WAAA,YAAAwD,SAAA,SAAAC,GAA4DjB,EAAAkB,KAAAlB,EAAAxC,WAAA,cAAAyD,IAA6CE,WAAA,6BAAsC,GAAAnB,EAAAoB,GAAA,KAAAjB,EAAA,YAAiCG,OAAOM,MAAA,OAAAC,KAAA,cAAkCV,EAAA,SAAcG,OAAOe,YAAA,oBAAiCd,OAAQQ,MAAAf,EAAAxC,WAAA,SAAAwD,SAAA,SAAAC,GAAyDjB,EAAAkB,KAAAlB,EAAAxC,WAAA,WAAAyD,IAA0CE,WAAA,0BAAmC,GAAAnB,EAAAoB,GAAA,KAAAjB,EAAA,YAAiCG,OAAOM,MAAA,OAAAC,KAAA,cAAkCV,EAAA,SAAcG,OAAOpC,KAAA,WAAAmD,YAAA,WAA0Cd,OAAQQ,MAAAf,EAAAxC,WAAA,SAAAwD,SAAA,SAAAC,GAAyDjB,EAAAkB,KAAAlB,EAAAxC,WAAA,WAAAyD,IAA0CE,WAAA,0BAAmC,GAAAnB,EAAAoB,GAAA,KAAAjB,EAAA,YAAiCG,OAAOM,MAAA,OAAAC,KAAA,gBAAoCV,EAAA,eAAoBG,OAAOlC,IAAA,EAAAkD,IAAA,EAAAD,YAAA,WAAwCd,OAAQQ,MAAAf,EAAAxC,WAAA,WAAAwD,SAAA,SAAAC,GAA2DjB,EAAAkB,KAAAlB,EAAAxC,WAAA,aAAAyD,IAA4CE,WAAA,4BAAqC,GAAAnB,EAAAoB,GAAA,KAAAjB,EAAA,YAAiCG,OAAOM,MAAA,KAAAC,KAAA,aAA+BV,EAAA,SAAcG,OAAOpC,KAAA,WAAAqD,UAA8BC,QAAA,EAAAC,QAAA,GAAsBJ,YAAA,cAA4Bd,OAAQQ,MAAAf,EAAAxC,WAAA,QAAAwD,SAAA,SAAAC,GAAwDjB,EAAAkB,KAAAlB,EAAAxC,WAAA,UAAAyD,IAAyCE,WAAA,yBAAkC,GAAAnB,EAAAoB,GAAA,KAAAjB,EAAA,YAAAA,EAAA,UAA8CG,OAAOpC,KAAA,WAAiBwD,IAAKC,MAAA,SAAAC,GAAyB5B,EAAA1B,aAAA,kBAAiC0B,EAAAoB,GAAA,QAAApB,EAAAoB,GAAA,KAAAjB,EAAA,UAA0CO,aAAamB,cAAA,OAAoBH,IAAKC,MAAA,SAAAC,GAAyB5B,EAAAJ,YAAA,kBAAgCI,EAAAoB,GAAA,qBAEx1DU,oBC6BjBC,GACA1E,KAAA,aACA2E,YACAC,KClCyBC,EAAQ,OAcjCC,CACE/E,EACA0C,GATF,EAEA,KAEA,KAEA,MAUgC,SDahChC,KALA,WAKA,IAAAS,EAAAC,KACA,OACAhB,cACAD,WAAA,SACA6E,YAAA,GACAC,aAAA,EACAC,OAAA,GACAC,KAAA,EACAC,UAAA,GACAC,YAAA,EACAC,MAAA,OACAC,UAAA,eACAC,cACAC,UAEAC,MAAA,KACAC,IAAA,SACAC,MAAA,KAGAF,MAAA,UACAC,IAAA,WACAE,SAAA,WAGAH,MAAA,OACAC,IAAA,aACAE,SAAA,WAGAH,MAAA,KACAC,IAAA,UACAG,UAAA,EACAD,SAAA,WAGAH,MAAA,OACAC,IAAA,eACAE,SAAA,WAGAH,MAAA,SACAC,IAAA,SACAC,MAAA,IACAG,MAAA,SACApD,OAAA,SAAAqD,EAAAC,GACA,OAAAD,EAAA,OACAA,EAAA,UACA9F,OACAY,KAAA,UACAoF,KAAA,SAEAC,OACAC,YAAA,OAEA9B,IACAC,MAAA,WACApD,EAAAkF,WAAAJ,EAAAK,UAGA,MACAN,EAAA,UACA9F,OACAY,KAAA,QACAoF,KAAA,SAEA5B,IACAC,MAAA,WACApD,EAAAoF,WAAAN,EAAAK,UAGA,aAOAE,YAEAC,SAEAC,QAAA,WACAtF,KAAAuF,YAEA1F,SACA0F,SADA,WACA,IAAAC,EAAAxF,KACAK,EAAAoF,kBACApF,GAAA,QAAAL,KAAA+D,KACA1D,GAAA,cAAAL,KAAAgE,UACA3D,GAAA,UAAAL,KAAAkE,MACA7D,GAAA,cAAAL,KAAAmE,UAEAnE,KAAAO,MAAAY,KAAAd,GAAAyD,OAAA9D,KAAA8D,SAAArD,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAApB,KACAkG,EAAApB,WAAAzD,EAAA,KACA6E,EAAAvB,YAAAtD,EAAA,YACA6E,EAAAzB,KAAApD,EAAA,KACA,WAAAA,EAAA,QACA6E,EAAA5E,SAAAC,MAAAF,EAAA,UACA,SAAAD,GACA,KAAAA,EAAAM,OACAwE,EAAA5E,SAAAC,MAAA,cAKA,KAAAH,EAAAM,QAEAwE,EAAAvE,QAAAC,MACArC,KAAA,aAKA6G,aA9BA,SA8BAnD,GACAvC,KAAA8D,OAAAvB,EACAvC,KAAAuF,YAEAN,WAlCA,SAkCAC,GACAlF,KAAA6D,aAAA,EACA7D,KAAAjB,WAAA,SACAiB,KAAA4D,YAAA,SACA5D,KAAAhB,WAAA2G,OAAA3F,KAAAoE,WAAAc,KAEAU,WAxCA,SAwCA7B,GACA/D,KAAA+D,OACA/D,KAAAuF,YAEAM,eA5CA,SA4CA7B,GACAhE,KAAAgE,YACAhE,KAAAuF,YAEAO,WAhDA,SAgDAvD,GACAvC,KAAAkE,MAAA3B,EAAA2B,MACAlE,KAAAmE,UAAA5B,EAAAgC,IACAvE,KAAAuF,YAEAQ,cArDA,SAqDA/E,GACAhB,KAAA6D,YAAA7C,GAEAgF,WAxDA,SAwDAC,GACAjG,KAAA6D,aAAA,EACA7D,KAAAuF,YAEAJ,WA5DA,SA4DAD,GAAA,IAAAgB,EAAAlG,KACAA,KAAAmG,OAAAC,SACA9B,MAAA,SACA+B,QAAA,GACAC,KAAA,WACA,IAAAjG,EAAAoF,iBAAAS,EAAA9B,WAAAc,GAAA7F,YAEA6G,EAAA3F,MAAAgG,OAAAlG,GAAAI,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAApB,KACA,WAAAqB,EAAA,QACAuF,EAAAtF,SAAAC,MAAAF,EAAA,SAEAuF,EAAAtF,SAAAE,QAAA,SACAoF,EAAAX,YACA,SAAA7E,GACA,KAAAA,EAAAM,OACAkF,EAAAtF,SAAAC,MAAA,cAKA,KAAAH,EAAAM,QAEAkF,EAAAjF,QAAAC,MACArC,KAAA,aAKA2H,SAAA,gBAKAC,QA9FA,WA+FAzG,KAAAjB,WAAA,MACAiB,KAAA4D,YAAA,SACA5D,KAAAhB,cACAgB,KAAA6D,aAAA,KExNe6C,GADEnF,OAFP,WAAgB,IAAAC,EAAAxB,KAAayB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BgF,YAAA,cAAAzE,aAAuC0E,QAAA,QAAiB9E,OAAQpC,KAAA,OAAAmH,QAAA,SAA+BlF,EAAA,OAAYG,OAAOgF,KAAA,OAAYnF,EAAA,UAAeG,OAAOpC,KAAA,UAAAqH,MAAA,UAAkC7D,IAAKC,MAAA3B,EAAAiF,WAAqBjF,EAAAoB,GAAA,YAAApB,EAAAoB,GAAA,KAAAjB,EAAA,OAA2CG,OAAOgF,KAAA,IAAAE,OAAA,QAA0BrF,EAAA,SAAcO,aAAasC,MAAA,QAAAyC,MAAA,SAAgCnF,OAAQgC,OAAA,GAAAoD,eAAA,GAAArE,YAAA,YAAuDK,IAAKiE,YAAA3F,EAAAkE,cAA6B3D,OAAQQ,MAAAf,EAAA,OAAAgB,SAAA,SAAAC,GAA4CjB,EAAAsC,OAAArB,GAAeE,WAAA,aAAsB,OAAAnB,EAAAoB,GAAA,KAAAjB,EAAA,OAAgCgF,YAAA,cAAAzE,aAAuC0E,QAAA,QAAiB9E,OAAQpC,KAAA,OAAAmH,QAAA,WAAiClF,EAAA,OAAYG,OAAOgF,KAAA,QAAanF,EAAA,SAAcG,OAAOsF,OAAA,GAAA/C,QAAA7C,EAAA6C,QAAA/E,KAAAkC,EAAA4C,YAAwDlB,IAAKmE,iBAAA7F,EAAAsE,eAAiC,OAAAtE,EAAAoB,GAAA,KAAAjB,EAAA,OAAgCgF,YAAA,cAAAzE,aAAuC0E,QAAA,QAAiB9E,OAAQpC,KAAA,OAAAmH,QAAA,SAA+BlF,EAAA,OAAYG,OAAOgF,KAAA,QAAanF,EAAA,QAAaO,aAAa+E,MAAA,SAAgBnF,OAAQwF,MAAA9F,EAAAyC,YAAAsD,aAAA,GAAAC,aAAA,GAAAC,QAAAjG,EAAAuC,KAAA2D,YAAAlG,EAAAwC,UAAA2D,kBAAA,gBAAsIzE,IAAK0E,YAAApG,EAAAoE,WAAAiC,sBAAArG,EAAAqE,mBAAqE,OAAArE,EAAAoB,GAAA,KAAAjB,EAAA,SAAkCG,OAAOgG,cAAA,GAAAxD,MAAA9C,EAAAoC,aAAyCV,IAAK6E,oBAAAvG,EAAAuE,eAAsChE,OAAQQ,MAAAf,EAAA,YAAAgB,SAAA,SAAAC,GAAiDjB,EAAAqC,YAAApB,GAAoBE,WAAA,iBAA2BhB,EAAA,QAAaG,OAAO9C,WAAAwC,EAAAxC,WAAAD,WAAAyC,EAAAzC,YAAwDmE,IAAK8C,WAAAxE,EAAAwE,eAA6B,QAE7mD1C,oBCqBjB0E,EAvBUtE,EAAQ,OAcjBuE,CACd1E,EACAmD,GAT6B,EAEb,KAEC,KAEU,MAUG,QCtBjBwB","file":"static/js/6.700745a8829ddacffe22.js","sourcesContent":["<template>\n    <Row>\n        <Form ref=\"singleItem\" :model=\"singleItem\" :rules=\"ruleValidate\" :label-width=\"80\">\n            <FormItem label=\"单号\" prop=\"item\" style=\"display: none;\">\n                <Input disabled v-model=\"singleItem.item_number\"></Input>\n            </FormItem>\n            <FormItem label=\"登陆用户\" prop=\"username\">\n                <Input v-model=\"singleItem.username\" placeholder=\"请输入登陆用户名称（譬如手机号）\"></Input>\n            </FormItem>\n            <FormItem label=\"登陆密码\" prop=\"password\">\n                <Input v-model=\"singleItem.password\" type=\"password\" placeholder=\"请输入登陆密码\"></Input>\n            </FormItem>\n            <FormItem label=\"权限级别\" prop=\"page_level\">\n                <InputNumber v-model=\"singleItem.page_level\" :max=5 :min=1 placeholder=\"请输入权限级别\"></InputNumber>\n            </FormItem>\n            <FormItem label=\"备注\" prop=\"comment\">\n                <Input v-model=\"singleItem.comment\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\" placeholder=\"可以输入备注以便记录\"></Input>\n            </FormItem>\n            <FormItem>\n                <Button type=\"primary\" @click=\"handleSubmit('singleItem')\">提交</Button>\n                <Button @click=\"handleReset('singleItem')\" style=\"margin-left: 8px\">重置</Button>\n            </FormItem>\n        </Form>\n    </Row>\n</template>\n<script>\nconst baseAPIUrl = process.env.baseAPIUrl;\nexport default {\n    name: \"SellItem\",\n    props: {\n        modal_type: '',\n        singleItem: {\n            username: '',\n            password: '',\n            page_level: '',\n            comment: '',\n            item_number: ''\n        }\n    },\n    data() {\n        return {\n            ruleValidate: {\n                username: [\n                    { required: true, message: '请输入名称' }\n                ],\n                password: [\n                    { required: true, message: '请输入密码' }\n                ],\n                page_level: [\n                    { required: true, message: '请输入级别'},\n                    { type: 'number', message: '错误金额'}\n                ],\n                comment: [\n                    { required: false, message: '请输入备注', trigger: 'blur' },\n                    { type: 'string', max: 200, message: '太长不易读', trigger: 'blur' }\n                ]\n            }\n        }\n    },\n    methods: {\n        handleSubmit (name) {\n            this.$refs[name].validate((valid) => {\n                if (valid) {\n                    if(this.$props.modal_type == \"modify\"){\n\n                        var post_URL = baseAPIUrl + \"setting/user/\" + this.singleItem.item_number;\n\n                        this.$http.put(post_URL, this.singleItem).then(response => {\n                            const res = response.data;\n                            if(res['status'] != \"success\")\n                                this.$Message.error(res['message']);\n\n                            this.$Message.success('修改成功!');\n                            this.$emit('closeModal', 'submit');\n                        }, response => {\n                            if(response.status == 401){\n                              // this.$Message.error('请登陆');\n                              this.$router.push({\n                                name: \"login\"\n                              });\n                            }\n                        });\n                    }\n                    else if(this.$props.modal_type == \"add\"){\n                        var post_URL = baseAPIUrl + \"setting/user/1\";\n                        this.$http.post(post_URL, this.singleItem).then(response => {\n                            const res = response.data;\n                            if(res['status'] != \"success\")\n                                this.$Message.error(res['message']);\n\n                            this.$Message.success('新增成功!');\n                            this.$emit('closeModal', 'submit');\n                        }, response => {\n                            if(response.status == 401){\n                              // this.$Message.error('请登陆');\n                              this.$router.push({\n                                name: \"login\"\n                              });\n                            }\n                        });\n                    }\n                } else {\n                    this.$Message.error('请查看是否填写完必须输入的项!');\n                }\n            })\n        },\n        handleReset (name) {\n            this.$refs[name].resetFields();\n        }\n    }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/setting/user-access/sell-item.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',[_c('Form',{ref:\"singleItem\",attrs:{\"model\":_vm.singleItem,\"rules\":_vm.ruleValidate,\"label-width\":80}},[_c('FormItem',{staticStyle:{\"display\":\"none\"},attrs:{\"label\":\"单号\",\"prop\":\"item\"}},[_c('Input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.singleItem.item_number),callback:function ($$v) {_vm.$set(_vm.singleItem, \"item_number\", $$v)},expression:\"singleItem.item_number\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"登陆用户\",\"prop\":\"username\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入登陆用户名称（譬如手机号）\"},model:{value:(_vm.singleItem.username),callback:function ($$v) {_vm.$set(_vm.singleItem, \"username\", $$v)},expression:\"singleItem.username\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"登陆密码\",\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入登陆密码\"},model:{value:(_vm.singleItem.password),callback:function ($$v) {_vm.$set(_vm.singleItem, \"password\", $$v)},expression:\"singleItem.password\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"权限级别\",\"prop\":\"page_level\"}},[_c('InputNumber',{attrs:{\"max\":5,\"min\":1,\"placeholder\":\"请输入权限级别\"},model:{value:(_vm.singleItem.page_level),callback:function ($$v) {_vm.$set(_vm.singleItem, \"page_level\", $$v)},expression:\"singleItem.page_level\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"备注\",\"prop\":\"comment\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5},\"placeholder\":\"可以输入备注以便记录\"},model:{value:(_vm.singleItem.comment),callback:function ($$v) {_vm.$set(_vm.singleItem, \"comment\", $$v)},expression:\"singleItem.comment\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit('singleItem')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){_vm.handleReset('singleItem')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-360d69b4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/setting/user-access/sell-item.vue\n// module id = null\n// module chunks = ","<template>\n    <div>\n        <Row type=\"flex\" justify=\"end\" class=\"code-row-bg\" style=\"padding: 10px;\">\n            <Col span=\"4\">\n                <Button type=\"primary\" shape=\"circle\" @click=\"addItem\">添加</Button>\n            </Col>\n            <Col span=\"8\" offset=\"12\">\n                <Input search enter-button placeholder=\"请输入关键字搜索\" style=\"width: 300px;float: right;\" @on-search=\"handleSearch\" v-model=\"search\"/>\n            </Col>\n        </Row>\n        <Row type=\"flex\" justify=\"start\" class=\"code-row-bg\" style=\"padding: 10px;\">\n            <Col span=\"24\">\n                <Table border :columns=\"columns\" :data=\"users_data\" @on-sort-change=\"sortChange\"></Table>\n            </Col>\n        </Row>\n        <Row type=\"flex\" justify=\"end\" class=\"code-row-bg\" style=\"padding: 10px;\">\n            <Col span=\"24\">\n                <Page :total=\"total_count\" show-total show-sizer :current=\"page\" :page-size=\"page_size\" :page-size-opts=[20,50,100,500] @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" style=\"float: right;\"/>\n            </Col>\n        </Row>\n        <Modal\n            v-model=\"singleModal\" footer-hide\n            :title=\"modal_title\"\n            @on-visible-change=\"visibleChange\">\n            <User :singleItem=\"singleItem\" :modal_type=\"modal_type\" @closeModal=\"closeModal\"></User>\n        </Modal>\n    </div>\n</template>\n<script>\nimport User from './sell-item.vue'\nconst baseAPIUrl = process.env.baseAPIUrl;\nexport default {\n    name: \"UserManage\",\n    components: {\n        User\n    },\n    data () {\n        return {\n            singleItem: {},\n            modal_type: \"modify\",\n            modal_title: \"\",\n            singleModal: false,\n            search: '',\n            page: 1,\n            page_size: 20,\n            total_count: 0,\n            order: \"desc\",\n            order_key: \"created_time\",\n            users_data: [],\n            columns: [\n                {\n                    title: '编号',\n                    key: 'raw_id',\n                    width: 80\n                },\n                {\n                    title: '登陆用户用户名',\n                    key: 'username',\n                    sortable: 'custom'\n                },\n                {\n                    title: '权限级别',\n                    key: 'page_level',\n                    sortable: 'custom'\n                },\n                {\n                    title: '备注',\n                    key: 'comment',\n                    ellipsis: true,\n                    sortable: 'custom'\n                },\n                {\n                    title: '更新时间',\n                    key: 'created_time',\n                    sortable: 'custom'\n                },\n                {\n                    title: 'Action',\n                    key: 'action',\n                    width: 150,\n                    align: 'center',\n                    render: (h, params) => {\n                        return h('div', [\n                            h('Button', {\n                                props: {\n                                    type: 'primary',\n                                    size: 'small'\n                                },\n                                style: {\n                                    marginRight: '5px'\n                                },\n                                on: {\n                                    click: () => {\n                                        this.modifyItem(params.index)\n                                    }\n                                }\n                            }, '编辑'),\n                            h('Button', {\n                                props: {\n                                    type: 'error',\n                                    size: 'small'\n                                },\n                                on: {\n                                    click: () => {\n                                        this.removeItem(params.index)\n                                    }\n                                }\n                            }, '删除')\n                        ]);\n                    }\n                }\n            ]\n        }\n    },\n    computed: {\n    },\n    watch: {\n    },\n    created: function() {\n        this.getUsers();\n    },\n    methods: {\n        getUsers() {\n            var post_URL = baseAPIUrl + \"setting/users?\";\n            post_URL += \"page=\" + this.page;\n            post_URL += \"&page_size=\" + this.page_size;\n            post_URL += \"&order=\" + this.order;\n            post_URL += \"&order_key=\" + this.order_key;\n\n            this.$http.post(post_URL, {search: this.search}).then(response => {\n                const res = response.data;\n                this.users_data = res['data'];\n                this.total_count = res['total_count'];\n                this.page = res['page'];\n                if(res['status'] != \"success\")\n                    this.$Message.error(res['message']);\n            }, response => {\n                if(response.status == 403){\n                    this.$Message.error('权限不足，请申请权限');\n                    // this.$router.push({\n                    //     name: \"dashboard\"\n                    // });\n                }\n                else if(response.status == 401){\n                  // this.$Message.error('请登陆');\n                  this.$router.push({\n                    name: \"login\"\n                  });\n                }\n            });\n        },\n        handleSearch(value) {\n            this.search = value;\n            this.getUsers();\n        },\n        modifyItem(index) {\n            this.singleModal = true;\n            this.modal_type = \"modify\";\n            this.modal_title = \"修改登陆用户\";\n            this.singleItem = Object.assign({}, this.users_data[index]);\n        },\n        changePage(page) {\n            this.page = page;\n            this.getUsers();\n        },\n        changePageSize(page_size) {\n            this.page_size = page_size;\n            this.getUsers();\n        },\n        sortChange(value){\n            this.order = value.order;\n            this.order_key = value.key;\n            this.getUsers();\n        },\n        visibleChange(status) {\n            this.singleModal = status;\n        },\n        closeModal(text) {\n            this.singleModal = false;\n            this.getUsers();\n        },\n        removeItem(index) {\n            this.$Modal.confirm({\n                title: '是否确认删除',\n                content: '',\n                onOk: () => {\n                    var post_URL = baseAPIUrl + \"setting/user/\" + this.users_data[index].item_number;\n\n                    this.$http.delete(post_URL).then(response => {\n                        const res = response.data;\n                        if(res['status'] != \"success\")\n                            this.$Message.error(res['message']);\n\n                        this.$Message.success('删除成功!');\n                        this.getUsers();\n                    }, response => { \n                        if(response.status == 403){\n                            this.$Message.error('权限不足，请申请权限');\n                            // this.$router.push({\n                            //     name: \"dashboard\"\n                            // });\n                        }\n                        else if(response.status == 401){\n                          // this.$Message.error('请登陆');\n                          this.$router.push({\n                            name: \"login\"\n                          });\n                        }\n                    });\n                },\n                onCancel: () => {\n                    // this.$Message.info('Clicked cancel');\n                }\n            });\n        },\n        addItem() {\n            this.modal_type = \"add\";\n            this.modal_title = \"增加登陆用户\";\n            this.singleItem = {};\n            this.singleModal = true;\n        }\n    }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/setting/user-access/users.vue","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sell-item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sell-item.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-360d69b4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sell-item.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/setting/user-access/sell-item.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',{staticClass:\"code-row-bg\",staticStyle:{\"padding\":\"10px\"},attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('Col',{attrs:{\"span\":\"4\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"shape\":\"circle\"},on:{\"click\":_vm.addItem}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"8\",\"offset\":\"12\"}},[_c('Input',{staticStyle:{\"width\":\"300px\",\"float\":\"right\"},attrs:{\"search\":\"\",\"enter-button\":\"\",\"placeholder\":\"请输入关键字搜索\"},on:{\"on-search\":_vm.handleSearch},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],1),_vm._v(\" \"),_c('Row',{staticClass:\"code-row-bg\",staticStyle:{\"padding\":\"10px\"},attrs:{\"type\":\"flex\",\"justify\":\"start\"}},[_c('Col',{attrs:{\"span\":\"24\"}},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.users_data},on:{\"on-sort-change\":_vm.sortChange}})],1)],1),_vm._v(\" \"),_c('Row',{staticClass:\"code-row-bg\",staticStyle:{\"padding\":\"10px\"},attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('Col',{attrs:{\"span\":\"24\"}},[_c('Page',{staticStyle:{\"float\":\"right\"},attrs:{\"total\":_vm.total_count,\"show-total\":\"\",\"show-sizer\":\"\",\"current\":_vm.page,\"page-size\":_vm.page_size,\"page-size-opts\":[20,50,100,500]},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePageSize}})],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"footer-hide\":\"\",\"title\":_vm.modal_title},on:{\"on-visible-change\":_vm.visibleChange},model:{value:(_vm.singleModal),callback:function ($$v) {_vm.singleModal=$$v},expression:\"singleModal\"}},[_c('User',{attrs:{\"singleItem\":_vm.singleItem,\"modal_type\":_vm.modal_type},on:{\"closeModal\":_vm.closeModal}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-83af7490\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/setting/user-access/users.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./users.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./users.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-83af7490\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./users.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/setting/user-access/users.vue\n// module id = null\n// module chunks = ","import UserManage from './users.vue'\nexport default UserManage \n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/setting/user-access/index.js"],"sourceRoot":""}