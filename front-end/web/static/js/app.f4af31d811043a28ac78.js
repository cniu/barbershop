webpackJsonp([4],{"+skl":function(e,t){},"/Cky":function(e,t){},0:function(e,t){},FhoZ:function(e,t,n){"use strict";(function(t){const o=n("o/zv");e.exports={dev:{assetsSubDirectory:"static",assetsPublicPath:"/",proxyTable:{},host:"localhost",port:8080,autoOpenBrowser:!1,errorOverlay:!0,notifyOnErrors:!0,poll:!1,useEslint:!1,showEslintErrorsInOverlay:!1,devtool:"cheap-module-eval-source-map",cacheBusting:!0,cssSourceMap:!0},build:{index:o.resolve(t,"../../web/index.html"),assetsRoot:o.resolve(t,"../../web"),assetsSubDirectory:"static",assetsPublicPath:"/web/",productionSourceMap:!0,devtool:"#source-map",productionGzip:!1,productionGzipExtensions:["js","css"],bundleAnalyzerReport:Object({NODE_ENV:"production",baseAPIUrl:"/"}).npm_config_report}}}).call(t,"/")},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},a,!1,function(e){n("O24n")},null,null).exports,i=n("/ocq"),c=(n("NYxO"),{name:"Main",data:function(){return{logo:"",isCollapsed:!1,title:"首页",activeMenuName:"dashboard",openMenuName:[],current_user:"",menus:[]}},created:function(){var e=this;this.$http.get("/main_menu").then(function(t){e.menus=t.data},function(t){e.$Message.error("请登陆"),e.$router.push({name:"login"})}),this.logo="@/assets/images/logo.png",this.$http.get("/api/user").then(function(t){e.current_user=t.data.name},function(t){e.$router.push({name:"login"})})},computed:{tags:function(){var e=[];return this.menus.forEach(function(t){t.showInTags?e.push(t):t.children&&t.children.forEach(function(t){t.showInTags&&e.push(t)})}),console.log("tags=>",e),e.sort(function(e,t){return e.num-t.num}),e},rotateIcon:function(){return["menu-icon",this.isCollapsed?"rotate-icon":""]},menuitemClasses:function(){return["menu-item",this.isCollapsed?"collapsed-menu":""]}},beforeRouteEnter:function(e,t,n){n(function(e){var t=localStorage.activeMenuName;e.activeMenuName=t;var n=e.tags[e.tags.length-1].num;t&&0!=t.length&&e.menus.forEach(function(o){t==o.name?(o.choosed=!0,o.showInTags=!0,o.num=n+1):o.children?o.children.forEach(function(a){t==a.name&&(a.choosed=!0,a.showInTags=!0,a.num=n+1,e.openMenuName=[o.name])}):"admin"!=o.name?(o.choosed=!1,o.showInTags=!1):o.choosed=!1}),e.$nextTick(function(){e.$refs.side_menu.updateOpened(),e.$refs.side_menu.updateActiveName()})})},methods:{quit:function(){var e=this;this.$http.get("/logout").then(function(t){e.$Message.success("退出成功！"+t.data.message),e.$router.push({name:"login"})},function(e){})},clickNotice:function(){this.choosedMenu("notice")},collapsedSider:function(){this.$refs.side1.toggleCollapse()},closeTag:function(e,t){var n=!1;if(this.menus.forEach(function(e,o){e.name==t?(n=e.choosed,e.showInTags=!1):e.children&&e.children.forEach(function(e){e.name==t&&(n=e.choosed,e.showInTags=!1)})}),n){var o=this.tags[this.tags.length-1];o.choosed=!0,this.$router.push(o.href),this.activeMenuName=o.name,localStorage.activeMenuName=this.activeMenuName}},clickTag:function(e){var t=this;this.tags.forEach(function(t){t.name==e.name?t.choosed=!0:t.choosed=!1}),this.activeMenuName=e.name,localStorage.activeMenuName=this.activeMenuName,this.$nextTick(function(){t.$refs.side_menu&&t.$refs.side_menu.updateActiveName()}),this.$router.push(""+e.href)},choosedMenu:function(e){var t=this.tags[this.tags.length-1].num;this.activeMenuName=e,localStorage.activeMenuName=this.activeMenuName;var n=null;this.menus.forEach(function(o){o.name==e?(o.showInTags||(o.num=t+1),n=o,o.showInTags=!0,o.choosed=!0):o.children?o.children.forEach(function(a){a.name==e?(o.showInTags||(a.num=t+1),n=a,a.showInTags=!0,a.choosed=!0):a.choosed=!1}):o.choosed=!1}),this.$router.push(""+n.href)},dropdownClick:function(e){this.choosedMenu(e)}}}),r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"admin-layout-container"},[n("div",{staticClass:"layout"},[n("Layout",[n("Sider",{ref:"side1",staticStyle:{background:"rgb(73, 80, 96)"},attrs:{"hide-trigger":"",collapsible:"","collapsed-width":78},model:{value:e.isCollapsed,callback:function(t){e.isCollapsed=t},expression:"isCollapsed"}},[n("div",{staticClass:"logo"},[e.isCollapsed?n("Avatar",{attrs:{icon:"person",size:"large"}}):n("img",{attrs:{src:e.logo,width:"100"}})],1),e._v(" "),e.isCollapsed?e._e():n("Menu",{ref:"side_menu",class:e.menuitemClasses,attrs:{"active-name":e.activeMenuName,"open-names":e.openMenuName,theme:"dark",width:"auto"},on:{"on-select":e.choosedMenu}},[e._l(e.menus,function(t,o){return[t.children?n("Submenu",{attrs:{name:t.name}},[n("template",{slot:"title"},[n("Icon",{attrs:{size:20,type:t.icon}}),e._v("\n                              "+e._s(t.title)+"\n                          ")],1),e._v(" "),e._l(t.children,function(t,o){return n("MenuItem",{key:o,attrs:{name:t.name}},[n("Icon",{attrs:{size:20,type:t.icon}}),e._v("\n                              "+e._s(t.title)+"\n                          ")],1)})],2):e._e(),e._v(" "),!t.children&&t.showInMenus?n("MenuItem",{attrs:{name:t.name}},[n("Icon",{attrs:{size:20,type:t.icon}}),e._v("\n                          "+e._s(t.title)+"\n                      ")],1):e._e()]})],2),e._v(" "),n("div",{staticClass:"dropdown-wrap"},[e._l(e.menus,function(t,o){return e.isCollapsed?[t.children?n("Dropdown",{attrs:{transfer:"",placement:"right-start"},on:{"on-click":e.dropdownClick}},[n("Button",{staticStyle:{width:"85px","margin-left":"-5px",padding:"10px 0"},attrs:{type:"text"}},[n("Icon",{attrs:{size:25,color:"#fff",type:t.icon}})],1),e._v(" "),n("DropdownMenu",{staticStyle:{width:"200px"},attrs:{slot:"list"},slot:"list"},[e._l(t.children,function(t,o){return[n("DropdownItem",{attrs:{name:t.name}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("Icon",{attrs:{size:16,type:t.icon}}),e._v(" "),n("span",{staticStyle:{"padding-left":"10px"}},[e._v("\n                                              "+e._s(t.title)+"\n                                          ")])],1)])]})],2)],1):e._e(),e._v(" "),!t.children&&t.showInMenus?n("Dropdown",{attrs:{transfer:"",placement:"right-start"},on:{"on-click":e.dropdownClick}},[n("Button",{staticStyle:{width:"85px","margin-left":"-5px",padding:"10px 0"},attrs:{type:"text"}},[n("Icon",{attrs:{size:25,color:"#fff",type:t.icon}})],1),e._v(" "),n("DropdownMenu",{staticStyle:{width:"200px"},attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:t.name}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("Icon",{attrs:{size:16,type:t.icon}}),e._v(" "),n("span",{staticStyle:{"padding-left":"10px"}},[e._v("\n                                          "+e._s(t.title)+"\n                                      ")])],1)])],1)],1):e._e()]:e._e()})],2)],1),e._v(" "),n("Layout",[n("Header",{staticClass:"layout-header-bar",style:{position:"fixed",width:e.isCollapsed?"calc(100% - 78px)":"calc(100% - 200px)",padding:0,display:"flex",flexDirection:"column",zIndex:20}},[n("div",{staticStyle:{display:"flex","align-tems":"center","justify-content":"space-between",position:"relative",height:"60px","line-height":"60px","z-index":"1","box-shadow":"0 2px 1px 1px rgba(100, 100, 100, 0.1)"}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("Icon",{class:e.rotateIcon,style:{margin:"0 20px 0"},attrs:{type:"navicon-round",size:"24"},nativeOn:{click:function(t){return e.collapsedSider(t)}}}),e._v(" "),n("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[e._v("后台管理系统")])],1),e._v(" "),n("div",{staticStyle:{"margin-right":"20px"}},[n("span",{staticStyle:{"font-size":"12px"}},[e._v("欢迎"+e._s(e.current_user))]),e._v(" "),n("Button",{attrs:{type:"text",icon:"android-exit",size:"large"},on:{click:e.quit}},[e._v("退出系统")])],1)]),e._v(" "),n("div",{staticStyle:{display:"flex",position:"relative","padding-left":"10px",height:"40px",background:"#f5f7f9","align-items":"center","box-shadow":"0 2px 1px 1px rgba(100, 100, 100, 0.1)"}},[e._l(e.tags,function(t,o){return[n("Tag",{attrs:{type:"dot",closable:t.closable,color:t.choosed?"blue":"#e9eaec",name:t.name},on:{"on-close":e.closeTag},nativeOn:{click:function(n){e.clickTag(t)}}},[e._v("\n                              "+e._s(t.title)+"\n                          ")])]})],2)]),e._v(" "),n("Content",{style:{height:"calc(100% - 100px)",position:"absolute",top:"100px",overflow:"auto",padding:"10px",width:e.isCollapsed?"calc(100% - 78px)":"calc(100% - 200px)"}},[n("keep-alive",[n("router-view")],1)],1)],1)],1)],1)])},staticRenderFns:[]};var l=n("VU/8")(c,r,!1,function(e){n("NaHW")},"data-v-1ad31adf",null).exports;o.default.use(i.a);var u=new i.a({routes:[{path:"/login",name:"login",meta:{title:"Login - 登录",hideInMenu:!0},component:function(){return n.e(1).then(n.bind(null,"cCTr"))}},{path:"/index",name:"index",meta:{title:"功能首页",hideInMenu:!0},component:function(){return n.e(2).then(n.bind(null,"EPwg"))}},{path:"/",name:"_home",redirect:"/dashboard",component:l,meta:{hideInMenu:!0,notCache:!0},children:[{path:"/dashboard",name:"dashboard",meta:{hideInMenu:!0,title:"管理页面",notCache:!0,icon:"md-home"},component:function(){return n.e(0).then(n.bind(null,"LnfU"))}}]}]}),d=n("BTaQ"),p=n.n(d),h=n("FhoZ"),m=n.n(h),f=(n("+skl"),n("/Cky"),n("8+8L"));o.default.config.productionTip=!1,o.default.use(p.a),o.default.use(f.a),o.default.prototype.$config=m.a,new o.default({el:"#app",router:u,components:{App:s},template:"<App/>"})},NaHW:function(e,t){},O24n:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f4af31d811043a28ac78.js.map