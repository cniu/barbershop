{"version":3,"sources":["webpack:///src/components/employees/employee-analysis/employee-analysis.vue","webpack:///./src/components/employees/employee-analysis/employee-analysis.vue?a163","webpack:///./src/components/employees/employee-analysis/employee-analysis.vue","webpack:///./src/components/employees/employee-analysis/index.js"],"names":["employee_analysis","name","components","ChartPie","charts","ChartBar","InforCard","info_card","data","inforCardData","title","icon","count","color","sell_item_type","assistant_sell_number","hairdresser_sell_number","employee_analysis_result","info","created","mounted","_this","this","$nextTick","getDailyData","methods","date","_this2","post_URL","baseAPIUrl","$http","get","then","response","res","toFixed","$Message","error","status","$router","push","updateInfo","employee_analysis_employee_analysis","render","_vm","_h","$createElement","_c","_self","attrs","span","_v","_s","staticStyle","width","height","padding-bottom","float","type","placeholder","on","on-change","gutter","_l","infor","i","key","xs","md","lg","shadow","icon-size","font-size","margin-top","margin-bottom","value","text","content","staticRenderFns","employees_employee_analysis_employee_analysis","__webpack_require__","normalizeComponent","EmployeeAnalysis"],"mappings":"kIA0EAA,GACAC,KAAA,YACAC,YACAC,SAAAC,EAAA,EACAC,SAAAD,EAAA,EACAE,UAAAC,EAAA,GAEAC,KAPA,WAQA,OACAC,gBACAC,MAAA,OAAAC,KAAA,YAAAC,MAAA,EAAAC,MAAA,YACAH,MAAA,WAAAC,KAAA,WAAAC,MAAA,EAAAC,MAAA,YACAH,MAAA,UAAAC,KAAA,iBAAAC,MAAA,EAAAC,MAAA,YAEAC,kBACAC,yBACAC,2BACAC,4BACAC,KAAA,iBAGAC,QAAA,aAEAC,QAvBA,WAuBA,IAAAC,EAAAC,KACAA,KAAAC,UAAA,WACAF,EAAAG,aAAA,UAGAC,SACAD,aADA,SACAE,GAAA,IAAAC,EAAAL,KACAM,EAAAC,sBAAAH,EAEAJ,KAAAQ,MAAAC,IAAAH,GAAAI,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAzB,KACAmB,EAAAlB,cAAA,SAAAyB,EAAA,iBACAP,EAAAlB,cAAA,SAAAyB,EAAA,iBACAP,EAAAlB,cAAA,WACA,GAAAyB,EAAA,mBACAP,EAAAlB,cAAA,UAAAyB,EAAA,iBAAAA,EAAA,kBAAAC,QAAA,IAGAR,EAAAb,eAAAoB,EAAA,oBACAP,EAAAX,wBAAAkB,EAAA,6BACAP,EAAAZ,sBAAAmB,EAAA,2BAEAP,EAAAV,yBAAAiB,EAAA,8BACA,WAAAA,EAAA,QAAAP,EAAAS,SAAAC,MAAAH,EAAA,UACA,SAAAD,GACA,KAAAA,EAAAK,QAEAX,EAAAY,QAAAC,MACAvC,KAAA,aAKAwC,WA5BA,SA4BAf,GACA,KAAAA,GACAA,EAAA,MACAJ,KAAAJ,KAAA,cAGAI,KAAAJ,KAAA,OAAAQ,EAAA,SAEAJ,KAAAE,aAAAE,MCvIegB,GADEC,OAFjB,WAA0B,IAAAC,EAAAtB,KAAauB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAqCE,OAAOC,KAAA,OAAYH,EAAA,OAAAA,EAAA,QAAAH,EAAAO,GAAAP,EAAAQ,GAAAR,EAAA1B,aAAA0B,EAAAO,GAAA,KAAAJ,EAAA,OAA4EE,OAAOC,KAAA,QAAaH,EAAA,cAAmBM,aAAaC,MAAA,QAAAC,OAAA,OAAAC,iBAAA,OAAAC,MAAA,SAAwER,OAAQS,KAAA,OAAAC,YAAA,SAAoCC,IAAKC,YAAAjB,EAAAH,eAA4B,GAAAG,EAAAO,GAAA,KAAAJ,EAAA,OAA4BE,OAAOC,KAAA,OAAYH,EAAA,cAAmBM,aAAaC,MAAA,QAAAC,OAAA,OAAAC,iBAAA,OAAAC,MAAA,SAAwER,OAAQS,KAAA,QAAAC,YAAA,SAAqCC,IAAKC,YAAAjB,EAAAH,eAA4B,OAAAG,EAAAO,GAAA,KAAAJ,EAAA,OAAgCE,OAAOa,OAAA,KAAalB,EAAAmB,GAAAnB,EAAA,uBAAAoB,EAAAC,GAA8C,OAAAlB,EAAA,SAAmBmB,IAAA,SAAAD,EAAAZ,aAAgCE,OAAA,QAAAC,iBAAA,QAAyCP,OAAQkB,GAAA,GAAAC,GAAA,EAAAC,GAAA,KAAuBtB,EAAA,cAAmBE,OAAOqB,OAAA,GAAAzD,MAAAmD,EAAAnD,MAAAF,KAAAqD,EAAArD,KAAA4D,YAAA,MAAkExB,EAAA,OAAAA,EAAA,QAAuBM,aAAamB,YAAA,UAAoB5B,EAAAO,GAAAP,EAAAQ,GAAAY,EAAApD,YAAAgC,EAAAO,GAAA,KAAAJ,EAAA,KAAAH,EAAAO,GAAAP,EAAAQ,GAAAY,EAAAtD,aAAA,MAA0FkC,EAAAO,GAAA,KAAAJ,EAAA,OAAyBM,aAAaoB,aAAA,QAAoBxB,OAAQa,OAAA,MAAaf,EAAA,SAAcM,aAAaqB,gBAAA,QAAuBzB,OAAQmB,GAAA,GAAAC,GAAA,KAAgBtB,EAAA,QAAaE,OAAOqB,OAAA,MAAavB,EAAA,aAAkBM,aAAaE,OAAA,SAAiBN,OAAQ0B,MAAA/B,EAAA9B,eAAA8D,KAAA,eAA8C,OAAAhC,EAAAO,GAAA,KAAAJ,EAAA,SAAkCM,aAAaqB,gBAAA,QAAuBzB,OAAQmB,GAAA,GAAAC,GAAA,KAAgBtB,EAAA,QAAaE,OAAOqB,OAAA,MAAavB,EAAA,aAAkBM,aAAaE,OAAA,SAAiBN,OAAQ0B,MAAA/B,EAAA5B,wBAAA4D,KAAA,aAAqD,OAAAhC,EAAAO,GAAA,KAAAJ,EAAA,SAAkCM,aAAaqB,gBAAA,QAAuBzB,OAAQmB,GAAA,GAAAC,GAAA,KAAgBtB,EAAA,QAAaE,OAAOqB,OAAA,MAAavB,EAAA,aAAkBM,aAAaE,OAAA,SAAiBN,OAAQ0B,MAAA/B,EAAA7B,sBAAA6D,KAAA,YAAkD,WAAAhC,EAAAO,GAAA,KAAAJ,EAAA,OAAoCE,OAAOa,OAAA,KAAalB,EAAAmB,GAAAnB,EAAA,kCAAA1B,EAAA+C,GAAwD,OAAAlB,EAAA,SAAmBmB,IAAA,QAAAD,EAAAZ,aAA+BqB,gBAAA,QAAuBzB,OAAQmB,GAAA,GAAAC,GAAA,KAAgBtB,EAAA,QAAaE,OAAOqB,OAAA,MAAavB,EAAA,aAAkBM,aAAaE,OAAA,SAAiBN,OAAQ0B,MAAAzD,EAAA2D,QAAAD,KAAA1D,EAAAjB,SAAuC,WAAU,IAErpE6E,oBCqBFC,EAvBUC,EAAQ,OAcjCC,CACEjF,EACA0C,GATF,EAEA,KAEA,KAEA,MAUgC,QCrBjBwC","file":"static/js/13.ff12d2787d4121cc356f.js","sourcesContent":["/* eslint-disable camelcase */\n<template>\n  <div>\n    <Row>\n        <Col span=\"4\">\n          <div>\n            <span>{{info}}</span>\n          </div>\n        </Col>\n        <Col span=\"16\">\n            <DatePicker type=\"year\" placeholder=\"请选择年份\" @on-change=\"updateInfo\"\n            style=\"width: 200px;height: 40px;padding-bottom: 10px; float:right;\"></DatePicker>\n        </Col>\n        <Col span=\"4\">\n            <DatePicker type=\"month\" placeholder=\"请选择月份\" @on-change=\"updateInfo\"\n            style=\"width: 200px;height: 40px;padding-bottom: 10px; float:right;\"></DatePicker>\n        </Col>\n    </Row>\n    <Row :gutter=\"20\">\n      <i-col :xs=\"12\" :md=\"8\" :lg=\"4\" v-for=\"(infor, i) in inforCardData\" :key=\"`infor-${i}`\" style=\"height: 120px;padding-bottom: 10px;\">\n        <infor-card shadow :color=\"infor.color\" :icon=\"infor.icon\" :icon-size=\"36\">\n          <div>\n            <span style=\"font-size: 35px;\">{{ infor.count }}</span>\n          </div>\n          <p>{{ infor.title }}</p>\n        </infor-card>\n      </i-col>\n    </Row>\n    <Row :gutter=\"20\" style=\"margin-top: 10px;\">\n      <i-col :md=\"24\" :lg=\"8\" style=\"margin-bottom: 20px;\">\n        <Card shadow>\n          <chart-pie style=\"height: 300px;\" :value=\"sell_item_type\" text=\"客户开单服务类别\"></chart-pie>\n        </Card>\n      </i-col>\n      <i-col :md=\"24\" :lg=\"8\" style=\"margin-bottom: 20px;\">\n        <Card shadow>\n          <chart-pie style=\"height: 300px;\" :value=\"hairdresser_sell_number\" text=\"发型师营业额\"></chart-pie>\n        </Card>\n      </i-col>\n      <i-col :md=\"24\" :lg=\"8\" style=\"margin-bottom: 20px;\">\n        <Card shadow>\n          <chart-pie style=\"height: 300px;\" :value=\"assistant_sell_number\" text=\"助理营业额\"></chart-pie>\n        </Card>\n      </i-col>\n    </Row>\n    <Row :gutter=\"20\">\n      <i-col :md=\"24\" :lg=\"8\" style=\"margin-bottom: 20px;\" v-for=\"(info, i) in employee_analysis_result\" :key=\"`info-${i}`\">\n        <Card shadow>\n          <chart-pie style=\"height: 300px;\" :value=\"info.content\" :text=\"info.name\"></chart-pie>\n        </Card>\n      </i-col>\n    </Row>\n      \n      <!-- <i-col :md=\"24\" :lg=\"24\" style=\"margin-bottom: 20px;\">\n        <Card shadow>\n          <chart-bar style=\"height: 300px;\" :value=\"year_sell_numbers\" text=\"今年营业消费额\"/>\n        </Card>\n      </i-col>\n      <i-col :md=\"24\" :lg=\"24\" style=\"margin-bottom: 20px;\">\n        <Card shadow>\n          <chart-bar style=\"height: 300px;\" :value=\"year_sell_money\" text=\"今年净收入\"/>\n        </Card>\n      </i-col> -->\n<!--     <Row>\n      <Card shadow>\n        <example style=\"height: 310px;\"/>\n      </Card>\n    </Row> -->\n  </div>\n</template>\n<script type=\"text/javascript\">\nimport { ChartPie, ChartBar } from '../../charts'\nimport InforCard from '@/components/info-card'\nconst baseAPIUrl = process.env.baseAPIUrl\nexport default {\n  name: 'Dashboard',\n  components: {\n    ChartPie,\n    ChartBar,\n    InforCard\n  },\n  data () {\n    return {\n      inforCardData: [\n        { title: '开单总数', icon: 'md-locate', count: 0, color: '#19be6b' },\n        { title: '营业额（仅开单）', icon: 'md-share', count: 0, color: '#ed3f14' },\n        { title: '均价（仅开单）', icon: 'md-chatbubbles', count: 0, color: '#ff9900' }\n      ],\n      sell_item_type: [],\n      assistant_sell_number: [],\n      hairdresser_sell_number: [],\n      employee_analysis_result: [],\n      info: '如下信息为当月的数据分析'\n    }\n  },\n  created: function () {\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this.getDailyData('now')\n    })\n  },\n  methods: {\n    getDailyData (date) {\n      var post_URL = baseAPIUrl + 'get_employee_data/' + date\n\n      this.$http.get(post_URL).then(response => {\n        const res = response.data\n        this.inforCardData[0]['count'] = res['data']['items_count']\n        this.inforCardData[1]['count'] = res['data']['sell_number']\n        this.inforCardData[2]['count'] = 0\n        if (res['data']['items_count'] != 0){\n          this.inforCardData[2]['count'] = (res['data']['sell_number'] / res['data']['items_count']).toFixed(2)\n        }\n\n        this.sell_item_type = res['data']['sell_item_type']\n        this.hairdresser_sell_number = res['data']['hairdresser_sell_number']\n        this.assistant_sell_number = res['data']['assistant_sell_number']\n\n        this.employee_analysis_result = res['data']['employee_analysis_result']\n        if (res['status'] != 'success') { this.$Message.error(res['message']) }\n      }, response => {\n        if (response.status == 401) {\n          // this.$Message.error('请登陆');\n          this.$router.push({\n            name: 'login'\n          })\n        }\n      })\n    },\n    updateInfo (date) {\n      if (date === '') {\n        date = 'now'\n        this.info = '如下为当月的数据分析'\n      }\n      else {\n        this.info = '如下为 ' + date + ' 的数据分析'\n      }\n      this.getDailyData(date)\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/employees/employee-analysis/employee-analysis.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',[_c('Col',{attrs:{\"span\":\"4\"}},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.info))])])]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"16\"}},[_c('DatePicker',{staticStyle:{\"width\":\"200px\",\"height\":\"40px\",\"padding-bottom\":\"10px\",\"float\":\"right\"},attrs:{\"type\":\"year\",\"placeholder\":\"请选择年份\"},on:{\"on-change\":_vm.updateInfo}})],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"4\"}},[_c('DatePicker',{staticStyle:{\"width\":\"200px\",\"height\":\"40px\",\"padding-bottom\":\"10px\",\"float\":\"right\"},attrs:{\"type\":\"month\",\"placeholder\":\"请选择月份\"},on:{\"on-change\":_vm.updateInfo}})],1)],1),_vm._v(\" \"),_c('Row',{attrs:{\"gutter\":20}},_vm._l((_vm.inforCardData),function(infor,i){return _c('i-col',{key:(\"infor-\" + i),staticStyle:{\"height\":\"120px\",\"padding-bottom\":\"10px\"},attrs:{\"xs\":12,\"md\":8,\"lg\":4}},[_c('infor-card',{attrs:{\"shadow\":\"\",\"color\":infor.color,\"icon\":infor.icon,\"icon-size\":36}},[_c('div',[_c('span',{staticStyle:{\"font-size\":\"35px\"}},[_vm._v(_vm._s(infor.count))])]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(infor.title))])])],1)})),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"gutter\":20}},[_c('i-col',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"md\":24,\"lg\":8}},[_c('Card',{attrs:{\"shadow\":\"\"}},[_c('chart-pie',{staticStyle:{\"height\":\"300px\"},attrs:{\"value\":_vm.sell_item_type,\"text\":\"客户开单服务类别\"}})],1)],1),_vm._v(\" \"),_c('i-col',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"md\":24,\"lg\":8}},[_c('Card',{attrs:{\"shadow\":\"\"}},[_c('chart-pie',{staticStyle:{\"height\":\"300px\"},attrs:{\"value\":_vm.hairdresser_sell_number,\"text\":\"发型师营业额\"}})],1)],1),_vm._v(\" \"),_c('i-col',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"md\":24,\"lg\":8}},[_c('Card',{attrs:{\"shadow\":\"\"}},[_c('chart-pie',{staticStyle:{\"height\":\"300px\"},attrs:{\"value\":_vm.assistant_sell_number,\"text\":\"助理营业额\"}})],1)],1)],1),_vm._v(\" \"),_c('Row',{attrs:{\"gutter\":20}},_vm._l((_vm.employee_analysis_result),function(info,i){return _c('i-col',{key:(\"info-\" + i),staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"md\":24,\"lg\":8}},[_c('Card',{attrs:{\"shadow\":\"\"}},[_c('chart-pie',{staticStyle:{\"height\":\"300px\"},attrs:{\"value\":info.content,\"text\":info.name}})],1)],1)}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-761ce41b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/employees/employee-analysis/employee-analysis.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./employee-analysis.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./employee-analysis.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-761ce41b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./employee-analysis.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/employees/employee-analysis/employee-analysis.vue\n// module id = null\n// module chunks = ","\nimport EmployeeAnalysis from './employee-analysis.vue'\nexport default EmployeeAnalysis\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/employees/employee-analysis/index.js"],"sourceRoot":""}